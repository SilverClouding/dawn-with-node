{%- comment -%}
  {% render 'article-related-articles' %}

  The article should have a metafield setup for Related Articles, Related Collections, and Related Products. These fields should be a Metaobject List field, each referencing the relevant Metaobject definition.

  Related Articles
  * Name
  * Articles (Single Line Text List)

  Related Collections
  * Name
  * Collections (Collection List)

  Related Articles
  * Name
  * Products (Product List)
{%- endcomment -%}

{% assign metaobject = article.metafields.SITE_NAME.related_articles.value %}
{% if metaobject %}
  <div class="article-related article-related--articles">
    <div class="container">
      <div class="article-related__header">
        <h2 class="heading-2">{{ 'blogs.article.related_products' | t }}</h2>
      </div>
      <div class="grid-list">
        {% for art in metaobject.articles.value %}
          {% assign a = articles[art] %}
          <div class="grid-item">
            {% render 'article-card', article: a %}
          </div>
        {% endfor %}
      </div>
    </div>
  </div>
{% endif %}
